---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import HeroSection from '../components/HeroSection.astro';
import ServiciosSection from '../components/ServiciosSection.astro';
import ClientesSection from '../components/ClientesSection.astro';
import SectoresSection from '../components/SectoresSection.astro';
import SobreNosotrosSection from '../components/SobreNosotrosSection.astro';
import ContactoSection from '../components/ContactoSection.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="SUMAT - Agencia de Marketing Digital">
  <Header />
  <main>
    <HeroSection />
    <ServiciosSection />
    <ClientesSection />
    <SectoresSection />
    <SobreNosotrosSection />
    <ContactoSection />
  </main>
  <Footer />
</Layout>

<script>
  // Smooth scrolling para enlaces internos
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href')!);
      if (target) {
        target.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });

  // Animaciones al hacer scroll
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('animate-fade-in');
      }
    });
  }, observerOptions);

  // Observar elementos con animaciones
  document.querySelectorAll('.animate-fade-in, .animate-slide-up, .animate-slide-in-left, .animate-slide-in-right').forEach(el => {
    observer.observe(el);
  });

  // Header con efecto de scroll
  const header = document.querySelector('header');
  let lastScrollTop = 0;

  window.addEventListener('scroll', () => {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
    if (scrollTop > 100) {
      header?.classList.add('bg-white/95', 'backdrop-blur-sm', 'shadow-lg');
    } else {
      header?.classList.remove('bg-white/95', 'backdrop-blur-sm', 'shadow-lg');
    }
    
    lastScrollTop = scrollTop;
  });
</script>
